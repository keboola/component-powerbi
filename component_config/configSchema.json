{
  "type": "object",
  "title": "PowerBI Configuration",
  "required": [
      "#access_token",
      "dataset",
      "workspace",
      "incremental",
      "table_relationship"
  ],
  "properties": {
      "#access_token": {
          "type": "string",
          "title": "Access Token",
          "propertyOrder": 100,
          "descriptions": "TEMPORARY: Users have to manually fetch access_token until Oauth2 setup is completed."
      },
      "workspace": {
          "type": "string",
          "title": "Workspace",
          "descriptions": "Please leave this blank if user is trying to export into the logged in accoung's workspace",
          "propertyOrder": 200
      },
      "dataset": {
          "type": "array",
          "title": "Dataset",
          "propertyOrder": 300,
          "format": "table",
          "items": {
              "properties": {
                  "dataset_type": {
                      "type": "string",
                      "title": "Type",
                      "enum": [
                          "Name",
                          "ID"
                      ]
                  },
                  "dataset_input": {
                      "title": "Value",
                      "type": "string"
                  }
              }
          },
          "maxItems": 1
      },
      "incremental": {
          "type": "boolean",
          "title": "Incremental load",
          "propertyOrder": 400,
          "enum": [
              true,
              false
          ],
          "default": true
      },
      "table_relationship": {
          "type": "array",
          "format": "table",
          "title": "Table Relationships",
          "description": "Setting up table's relationships",
          "propertyOrder": 450,
          "items": {
              "type": "object",
              "title": "Relationship",
              "properties": {
                  "primary_key_table": {
                      "type": "string",
                      "title": "Primary Key Table",
                      "propertyOrder": 100
                  },
                  "primary_key_column_name": {
                      "type": "string",
                      "title": "Primary Key Column Name",
                      "propertyOrder": 200
                  },
                  "foreign_key_table": {
                      "type": "string",
                      "title": "Foreign Key Table",
                      "propertyOrder": 300
                  },
                  "foreign_key_column_name": {
                      "type": "string",
                      "title": "Foreign Key Column Name",
                      "propertyOrder": 400
                  }
              }
          }
      }
  }
}